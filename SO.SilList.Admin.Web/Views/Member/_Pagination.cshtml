@model SO.SilList.Manager.Models.ViewModels.MemberVm

<div class="pagination pull-right">
    @Html.HiddenFor(m => m.pageNumber)
    <b>@Html.Raw(Model.FromToTextOfPagination())</b>

    <ul>
        @if (Model.pageCount > 1)
        {
            <li><a href="#" onclick="$('#pageNumber').val(1); $('#filterForm').submit();return false;">First</a></li>
            <li><a href="#" onclick="$('#pageNumber').val(@Model.pageCount-1); $('#filterForm').submit();return false;">Prev</a></li>
        
            int curPage = Model.pageNumber != null && Model.pageNumber.Value > 1 ? Model.pageNumber.Value - 2 : 1;
            int lastVisiblePageNum = Model.pageNumber != null ? Model.pageNumber.Value : 1;
            lastVisiblePageNum = System.Math.Max(lastVisiblePageNum + 2, Model.pageCount);
            for (; curPage <= lastVisiblePageNum; ++curPage)
            {
                string enable = Model.pageNumber == curPage ? "disabled" : "enabled";
            <li class="@enable"><a href="#" onclick="$('#pageNumber').val(@curPage); $('#filterForm').submit();return false;">@curPage</a></li>
            }

            <li><a href="#" onclick="$('#pageNumber').val(@Model.pageCount+1); $('#filterForm').submit();return false;">Next</a></li>
            <li><a href="#" onclick="$('#pageNumber').val(@Model.pageCount); $('#filterForm').submit();return false;">Last</a></li>
        }
    </ul>
</div>
